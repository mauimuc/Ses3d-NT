<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Ses3d-NT: Visualization Suggestions</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Ses3d-NT
   </div>
   <div id="projectbrief">simulation of elastic wave propagation in spherical sections</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Visualization Suggestions </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>This section provides an example how to visualize Ses3d-NT’s output.</p>
<h1><a class="anchor" id="autotoc_md6"></a>
Visualization Requirements</h1>
<p>To use the Python toolbox for visualization your system needs to meet the following requirements:</p>
<ul>
<li>Python (≥ 2.5), Python re</li>
<li>Numpy (≥ 1.1.0)</li>
<li>Matplotlib (≥ 1.0.0)</li>
<li>Basemap</li>
<li>Axisartist</li>
<li>Obspy (≥ 3.6)</li>
<li>ParaView</li>
<li>vtk (≥ 5.0.4)</li>
</ul>
<h1><a class="anchor" id="autotoc_md7"></a>
For Debian based Systems</h1>
<p>In the following we guide you through the build process of the dependencies to meet the requirements to use the Python toolbox. Please follow the instructions top to bottom.</p>
<h2><a class="anchor" id="autotoc_md8"></a>
Python</h2>
<p>To install Python execute in a shell: </p><pre class="fragment">sudo apt-get install python python2.7-dev
</pre><p>Note: This installs Python 2.7, the module Python re should be contained.</p>
<h2><a class="anchor" id="autotoc_md9"></a>
Numpy</h2>
<p>To get numpy simply execute: </p><pre class="fragment">sudo apt-get install python-numpy
</pre><h2><a class="anchor" id="autotoc_md10"></a>
Matplotlib and Basemap</h2>
<pre class="fragment">sudo apt-get install python-matplotlib

sudo apt-get install python-mpltoolkits.basemap
</pre><h2><a class="anchor" id="autotoc_md11"></a>
ObsPy</h2>
<p>Informatiom how to install the most recent stable release <code>ObsPy</code> under <code>Debian</code> based system you can find on the following link: <a href="https://github.com/obspy/obspy/wiki/Installation-on-Linux-via-Apt-Repository">https://github.com/obspy/obspy/wiki/Installation-on-Linux-via-Apt-Repository</a></p>
<h2><a class="anchor" id="autotoc_md12"></a>
ParaView</h2>
<p>To install ParaView simply type and execute in your shell: </p><pre class="fragment">sudo apt-get install paraview
</pre><p>This also installs vtk.</p>
<h1><a class="anchor" id="autotoc_md13"></a>
Visualization of the results</h1>
<p>The actual data for visualization can be created by following the instructions of the L'Aquila toy-example in <a class="el" href="GETTING__STARTED_8md.html">GETTING_STARTED.md</a> . As the result you obtain SAC and NetCDF file formats data in folder:<code>ses3d-nt/examples/MESS_2013/</code>.</p>
<p>Now that you have created the data you also might to take a look on it. There are a huge variety of programs which can be used for visualizing and processing Ses3d-NT’s output. In the following only two of them are introduced, namely ObsPy and ParaView</p>
<h2><a class="anchor" id="autotoc_md14"></a>
Plotting Synthetic Seismograms</h2>
<p>Ses3d-NT writes synthetic seismograms in the SAC file format, trace by trace. SAC files can easily be read and processed with ObsPy. To do so, you should stay in <code>/ses3d-nt/examples/MESS_2013/</code> folder (where the L’Aquila simulation was carried out) and open a Python environment, by executing the following code: </p><pre class="fragment">ipython

    import obspy
    st = obspy.read('./*.sac')
    stations = list (set ( tr.stats.station for tr in st ) )
    for station in stations:
        st.select( station=station ).plot( )
</pre><p>all SAC files in the directory <code>ses3d-nt/examples/MESS_2013/</code> will be read into a stream-object. As a second step all station names are extracted and stored in a python-list. Finally, the code iterates through all stations, selecting all those traces corresponding to the current station name and plotting these. Example of the seismic trace: </p><div class="image">
<img src="Image1.png" alt=""/>
</div>
<h2><a class="anchor" id="autotoc_md15"></a>
Volume-snapshots</h2>
<p>Probably the most user-friendly way to visualize Ses3d-NT’s 3d-datasets is the 3d visualization software ParaView, developed by Kitware. Volume snapshots which are written in the NetCDF file format can be opened directly, without conversion. The L’Aquila toy-example produces a whole bunch of output. One file is <code>rho_mu_lambda_1.nc</code> with the simulation’s model-parameters ρ, λ and μ inside. The other 74 files <code>vx_vy_vz_[#].nc</code> are volume-snapshots of displacement- velocities 'vθ' , 'vφ' and 'vr' . To visualize it:</p>
<ol type="1">
<li>Load ParaView (version 3.98.1; old versions might not be able to load NetCDF), click 'open', move to /ses3d-nt/examples/MESS_2013/ and select the group <code>vx_vy_vz_..nc</code>.</li>
<li>In the occurring window, select the NetCDF generic file format.</li>
<li>In the left hand panel 'Properties' clicking 'Apply' will show an outline of the computational domain.</li>
<li>For better data representation, you should switch from 'Outline-view' to the 'Surface-view' in the top menu.</li>
<li>To actually show data included in the NetCDF files, a dataset needs to be selected explicitly.</li>
</ol>
<p>Select from the drop-down menu 'Solid Color' the dataset you are interested in. ParaView comes with a huge variety of post-processing-, visualization and filtering-tools. Some features are self-explanatory others are not.</p>
<p>Example of the snapshot: </p><div class="image">
<img src="Image2.png" alt=""/>
</div>
 </div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue Dec 1 2020 12:33:51 for Ses3d-NT by&#160;<a href="http://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.8.20
</small></address>
</body>
</html>
